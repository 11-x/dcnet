<script language="javascript">
let result_submitter=undefined;
function init(cur_value, submit_result)
{
	let el=document.getElementById("int_value");
	result_submitter=submit_result;

	if (typeof cur_value=="undefined")
		el.value="";
	else if (typeof cur_value=="number") {
		el.value=cur_value;
	} else {
		console.error("Integer expected", cur_value);
		throw "not a number: " + typeof cur_value;
	}
}
function submit_int()
{
	let el=document.getElementById("int_value");
	if (/^[0-9]+$/.test(el.value)==false) {
		alert("Not an integer: " + el.value);
		return;
	}
	let val=parseInt(el.value);
	if (typeof result_submitter=="function")
		result_submitter(val);
}
</script>
integer: <input id="int_value" type="text" pattern="/[0-9]+/"
	placeholder="enter integer" /><button onclick="submit_int();">OK</button>
